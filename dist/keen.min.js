!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.keen=t():e.keen=t()}(this,function(){return function(e){function t(r){if(o[r])return o[r].exports;var n=o[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function e(){var t=function(e){if("object"===("undefined"==typeof e?"undefined":o(e))){if(e.hasOwnProperty("projectId")&&(c.projectId=e.projectId),e.hasOwnProperty("writeKey")&&(c.writeKey=e.writeKey),e.hasOwnProperty("post")){if("function"!=typeof e.post)throw new Error("post needs to be a function!");c.post=e.post}if(e.hasOwnProperty("baseURL")&&(c.baseURL=e.baseURL),e.hasOwnProperty("queueTime")){if("number"!=typeof e.queueTime)throw new Error("queueTime needs to be a number, representing the ms to wait for other events!");c.queueTime=e.queueTime}if(e.hasOwnProperty("mergeData")){if("function"!=typeof e.mergeData)throw new Error("mergeData needs to be a function!");c.mergeData=e.mergeData}return c}},r=function(e,t){if(t||(t={}),"object"!==("undefined"==typeof t?"undefined":o(t)))throw new Error("data must be an object");var r=s(t),n=d;n.hasOwnProperty(e)?n[e].push(r):n[e]=[r],f()},n=function(){return d},i=function(){d={}},u=function(){return new e},a=function(e,t){var o=t.baseURL,r=t.projectId,n=t.writeKey;if("undefined"==typeof $)throw new Error("The default post method of keen requires jQuery. You need to either include jQuery, or provide a custom post method.");if(!o)throw new Error("The baseURL of keen is not set correctly.");if(!r)throw new Error("The projectId of keen is not set correctly.");if(!n)throw new Error("The writeKey of keen is not set correctly.");var i=o+"/"+r+"/events?api_key="+n;return $.ajax({type:"POST",headers:{Authorization:n},url:i,contentType:"application/json",crossDomain:!0,xhrFields:{withCredentials:!1},data:JSON.stringify(e),dataType:"json"})},s=function(e){var t=c.mergeData();for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e},f=function(){var e=c.queueTime,t=y;t&&window.clearTimeout(t),y=window.setTimeout(p,e)},p=function(){var e=d;c.post(e,c),d={}},c={projectId:null,writeKey:null,queueTime:5e3,baseURL:"https://api.keen.io/3.0/projects",post:a,mergeData:function(){return{keen:{timestamp:new Date}}}},d={},y=null;return{setOptions:t,options:c,sendEvent:r,getQueue:n,clearQueue:i,createInstance:u}},n=new r;t.default=n,e.exports=t.default}])});
//# sourceMappingURL=keen.min.js.map
